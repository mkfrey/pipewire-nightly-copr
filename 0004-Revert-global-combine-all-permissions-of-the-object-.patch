From a7e432eac182def74571a4e66f85d0cb1ab14539 Mon Sep 17 00:00:00 2001
From: Wim Taymans <wtaymans@redhat.com>
Date: Wed, 19 Jun 2019 16:26:55 +0200
Subject: [PATCH 4/4] Revert "global: combine all permissions of the object
 tree"

This reverts commit 83bc033837f7525d898f1de91119f669f9bf97f5.
---
 src/pipewire/global.c | 10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

diff --git a/src/pipewire/global.c b/src/pipewire/global.c
index c963965e..00258ff8 100644
--- a/src/pipewire/global.c
+++ b/src/pipewire/global.c
@@ -38,15 +38,9 @@ uint32_t pw_global_get_permissions(struct pw_global *global, struct pw_client *c
 {
 	uint32_t perms = PW_PERM_RWX;
 
-	if (client->permission_func == NULL)
-		return perms;
-
-	perms = client->permission_func(global, client, client->permission_data);
-
-	while (global != global->parent) {
-		global = global->parent;
+	if (client->permission_func != NULL)
 		perms &= client->permission_func(global, client, client->permission_data);
-	}
+
 	return perms;
 }
 
-- 
2.21.0

